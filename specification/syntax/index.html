<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><link rel=alternate type=application/rss+xml href=https://pages.nist.gov/metaschema/specification/syntax/index.xml title="Metaschema Syntax"><title>Metaschema Syntax</title><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-42404149-54','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><link rel=stylesheet href=https://pages.nist.gov/metaschema/css/site.min.css integrity="sha512-VUwBmjgN&#43;s1xcds9PTU8jwiFTUkkDusR5PMCqODwtbYAdIKlSHgbJ3iLjtvZ5Y323k6nIy2mtiD6OVJ&#43;MqdfRQ=="><link rel="shortcut icon" type=image/png href=https://pages.nist.gov/metaschema/img/oscal-page-icon-180.png><link rel=icon type=image/png href=https://pages.nist.gov/metaschema/img/oscal-gears-icon-140.png><link rel=icon type=image/png sizes=192x192 href=https://pages.nist.gov/metaschema/img/oscal-page-icon-180.png><link rel=apple-touch-icon-precomposed type=image/png href=https://pages.nist.gov/metaschema/img/oscal-page-icon-180.png><link rel=apple-touch-icon-precomposed type=image/png sizes=72x72 href=https://pages.nist.gov/metaschema/img/oscal-page-icon-180.png><link rel=apple-touch-icon-precomposed type=image/png sizes=114x114 href=https://pages.nist.gov/metaschema/img/oscal-page-icon-180.png><link rel=apple-touch-icon-precomposed type=image/png sizes=144x144 href=https://pages.nist.gov/metaschema/img/oscal-page-icon-180.png><link rel=stylesheet href=https://pages.nist.gov/nist-header-footer/css/nist-combined.css><script src=https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js type=text/javascript defer></script><link rel=stylesheet type=text/css href=https://pages.nist.gov/leaveNotice/css/jquery.leaveNotice.css></head><body><a class=usa-skipnav href=#main-content>Skip to main content</a><div class=usa-overlay></div><header class="usa-header usa-header--basic"><div class=usa-nav-container><div class=usa-navbar><div class=usa-logo id=basic-logo><em class=usa-logo__text><a href=https://pages.nist.gov/metaschema/ title="Metaschema Information Modeling Framework" aria-label=Home>Metaschema</a></em></div><button class=usa-menu-btn>Menu</button></div><nav aria-label="Primary navigation" class=usa-nav><button class=usa-nav__close><img src=https://pages.nist.gov/metaschema/img/close.svg alt=close></button><ul class="usa-nav__primary usa-accordion"><li class=usa-nav__primary-item><a class=usa-nav__link href=https://pages.nist.gov/metaschema/specification/><span>Specification</span></a></li><li class=usa-nav__primary-item><a class=usa-nav__link href=https://pages.nist.gov/metaschema/use/><span>Using</span></a></li><li class=usa-nav__primary-item><a class=usa-nav__link href=https://pages.nist.gov/metaschema/contribute/><span>Contribute</span></a></li></ul><form class="usa-search usa-search--small" action=https://search.usa.gov/search><input id=affiliate name=affiliate type=hidden value=oscal>
<input name=utf8 type=hidden value=&#x2713;><div role=search><label class=usa-sr-only for=basic-search-field-small>Search</label>
<input class=usa-input id=query type=search name=query>
<button class=usa-button type=submit><span class=usa-sr-only>Search</span></button></div></form></nav></div></header><main class="usa-layout-docs padding-top-2"><div class=grid-container><div class="grid-row grid-gap"><aside class="usa-layout-docs__sidenav widescreen:grid-col-2 desktop:grid-col-3"><ul class=usa-sidenav><li><a class="usa-sidenav__item subnav-top-level section" href=https://pages.nist.gov/metaschema/specification/>Specification</a><ul class=usa-sidenav><li><a class="usa-sidenav__item section" href=https://pages.nist.gov/metaschema/specification/concepts/>Metaschema Concepts</a><ul class=usa-sidenav><li><a class="usa-sidenav__item page" href=https://pages.nist.gov/metaschema/specification/concepts/architecture-mermaid/>Metaschema Architecture using Mermaid</a></li><li><a class="usa-sidenav__item page" href=https://pages.nist.gov/metaschema/specification/concepts/terminology/>Metaschema Terminology</a></li></ul></li><li><a class="usa-sidenav__item section active-page usa-current" href=https://pages.nist.gov/metaschema/specification/syntax/>Metaschema Syntax</a><div id=js-toc></div></li><li><a class="usa-sidenav__item section" href=https://pages.nist.gov/metaschema/specification/mapping/>Mapping to XML, JSON, and YAML</a></li></ul></li></ul></aside><div id=main-content class="usa-layout-docs__main widescreen:grid-col-10 desktop:grid-col-9"><article><header><h1>Metaschema Syntax</h1></header><p>A Metaschema instance has two parts: a header (the <code>METASCHEMA</code> element), and a set of definitions for the model components or parts supported by the <code>define-assembly</code>, <code>define-field</code>, and <code>define-flag</code> elements.</p><p>Top level documentation for the Metaschema instance appears in the header section, while documentation for all the model components appears with the definitions for those constructs. There is no explicit separation between the header and the definitions: the header ends when the definitions start.</p><h2 id=root-element>Root Element</h2><h3 id=metaschema-element><code>METASCHEMA</code> element</h3><p>The root element is <code>METASCHEMA</code> using all capitals. To name the root element in all capitals (unlike the general rule) and to give it a name somewhat peculiar to its application, retains and expresses the information that it is intended to be the document root. This is the only element named in all caps.</p><p>Attributes:</p><ul><li><code>@root</code>: indicates the root element or object for the schema, which must correspond to the <code>@name</code> of one of the (assembly) definitions in the metaschema.</li></ul><p>A metaschema definition may include these elements, in order:</p><h4 id=schema-name><code>schema-name</code></h4><p>Describing the scope of application of the data format, for example &ldquo;OSCAL Catalog&rdquo;.</p><h4 id=schema-version><code>schema-version</code></h4><p>A literal value indicating the version to be assigned to schemas and tools produced from the Metaschema.</p><h4 id=short-name><code>short-name</code></h4><p>A coded version of the schema name, for use when a string-safe identifier is needed, for example on artifact file names. Expect this short name to be propagated anytime such a &ldquo;handle&rdquo; is needed. A short name for the OSCAL Catalog metaschema (and schemas) might be <code>oscal-catalog</code>.</p><h4 id=namespace><code>namespace</code></h4><p>An XML namespace identifier (URI) to be used for the resulting XSD. All elements in the metaschema will be assigned to this namespace, including elements defined in metaschema modules, that are designated with their own namespaces. (In other words, this data value is operative only for the top-level metaschema, not for any of its imported modules. This makes it possible to use modules in metaschemas defined with different namespaces.)</p><h4 id=remarks><code>remarks</code></h4><p>Paragraphs describing the metaschema.</p><p>Note that the <code>remarks</code> element is also permitted to appear elsewhere; this is a general-purpose element for including explanatory commentary of any kind; its scope of application is generally shown by its location in the document - the top-level remarks should describe the entire metaschema.</p><h4 id=import><code>import</code></h4><p>Used to import the components defined in another metaschema definition into this metaschema definition.</p><h4 id=component-definitions>Component Definitions</h4><p>Following the <code>METASCHEMA/remarks</code>, any number of schema component definitions may follow. These describe each component, provide information determining details of its representation and handling (in XML and JSON), and include documentation.</p><p>Each component is defined by one of the <code>define-assembly</code>, <code>define-field</code>, and <code>define-flag</code> child elements, which are described individually below.</p><h2 id=component-definitions-1>Component Definitions</h2><p>The <code>define-assembly</code>, <code>define-field</code>, and <code>define-flag</code> child elements have a common base model.</p><h3 id=common-elements>Common Elements</h3><h4 id=formal-name><code>formal-name</code></h4><p>A label for use in documentation to provide a human-readable name for the component. The <code>formal-name</code> element is required.</p><h4 id=description><code>description</code></h4><p>A semantic definition for the component for use in documentation. This definition ties the component to the related concept in the information domain the model is representing. The <code>description</code> element is required.</p><h4 id=remarks-1><code>remarks</code></h4><p>Provides notes on the use of the component that may clarify the semantic definition for the component for use in documentation. The <code>remarks</code> element is optional and may occur multiple times.</p><h4 id=example><code>example</code></h4><p>Used to provide inline use examples in XML, which can then be automatically converted into other formats. The <code>example</code> element is optional and may occur multiple times.</p><h3 id=define-field><code>define-field</code></h3><p>Fields can be thought of as simple text values, either scalars or sequences of scalars, or when appropriate, of &ldquo;rich text&rdquo; or mixed content, i.e. text permitting inline formatting. Depending on modeling requirements, fields may also be used for even simpler bits of data, such as objects that carry specialized flags but have no values or structures otherwise. This means that fields can be more or less complex, depending on the need.</p><p>Attributes:</p><ul><li><code>@as-type</code>(type: string, use: optional, default: string): Defines the type of the field&rsquo;s value. The <code>@as-type</code> attribute must have a value that corresponds to a <a href=#data-types>data type</a>.</li><li><code>@collapsible</code>(type: yes/no, use: optional, default: yes): Is a JSON and YAML specific behavior that allows multiple fields having the same set of flag values to be collapsed into a single object with a value property that is an array of values. This makes JSON and YAML formatted data more concise.</li><li><code>@name</code>(type: NCName, use: required): Used to identify the field when it is referenced within the metaschema definition.</li></ul><p>The following elements are supported:</p><h4 id=json-key><code>json-key</code></h4><p>See <a href=#using-json-key>using <code>@json-key</code></a>.</p><h4 id=json-value-key><code>json-value-key</code></h4><p>In XML, the value of a field appears as the child of the field&rsquo;s element. In JSON and YAML, a property name is needed for the value. The <code>json-value-key</code> element provides the property name in one of three possible ways:</p><ol><li>A value is provided that is used as the property name.</li><li>A <code>@flag-name</code> value is provided that indicates the flag&rsquo;s value to use as the property name. This results in a property that is a combination of the referenced flag&rsquo;s value and the field&rsquo;s value. For example: &ldquo;flag-value&rdquo;: &ldquo;field-value&rdquo;.</li><li>If the <code>json-value-key</code> is not specified, a default value will be chosen based on the data type as follows:<ul><li>If the data type is <code>empty</code> no property will exist, so no property name is needed.</li><li>If the data type is <code>markup-line</code>, then the property name will be <code>RICHTEXT</code>.</li><li>If the data type is <code>markup-multiline</code>, then the property name will be <code>prose</code>.</li><li>Otherwise, the property name will be <code>STRVALUE</code>.</li></ul></li></ol><h4 id=flag><code>flag</code></h4><p>See <a href=#local-defintion-of-flag-components>local defintion of <code>flag</code> components</a>.</p><p>In addition to these settings, fields may be defined with flags. Do this by including <code>flag</code> elements directly in the definition.</p><h4 id=allowed-values><code>allowed-values</code></h4><p>See <a href=#using-allowed-values>using <code>allowed-values</code></a>.</p><h3 id=define-assembly><code>define-assembly</code></h3><p>An assembly is similar to a field, except it contains structured content (objects or elements), not text or unstructured &ldquo;rich text&rdquo;. The contents permitted in a particular (type of) assembly are indicated in its <code>model</code> element.</p><p>An <code>@as-type</code> attribute is not permitted on an assembly definition.</p><h4 id=json-key-1><code>json-key</code></h4><p>See <a href=#using-json-key>using <code>@json-key</code></a>.</p><h4 id=flag-1><code>flag</code></h4><p>See <a href=#local-defintion-of-flag-components>local defintion of <code>flag</code> components</a>.</p><h4 id=model><code>model</code></h4><p>This element is used to reference the <code>field</code> and <code>assembly</code> components that compose the assembly&rsquo;s model. A <code>choice</code> element is also provided to define mutually exclusive model members.</p><h5 id=redefining-the-description>Redefining the <code>description</code></h5><p>The optional <code>description</code> element of the child <code>field</code> and <code>assembly</code> elements can be used to provide a different description for when the referenced component is used in the specified model context.</p><h5 id=using-cardinalities-and-group-as>Using cardinalities and <code>group-as</code></h5><p>The child <code>field</code> and <code>assembly</code> elements share the following common set of attributes:</p><ul><li><code>@ref</code>(type: NCName, use: required): References the name of the corresponding <code>define-field</code> or <code>define-assembly</code>.</li><li><code>@min-occurs</code> (type: nonNegativeInteger, use: optional, default: 0): Indicates the minimum allowed occurance of the corresponding <code>define-field</code> or <code>define-assembly</code>.</li><li><code>@max-occurs</code> (type: positiveInteger or &ldquo;unbounded&rdquo;, use: optional, default: 1): Indicates the maximum allowed occurance of the corresponding <code>define-field</code> or <code>define-assembly</code>. The value <code>unbounded</code> indicates the the referenced component can occur any number of times.</li></ul><p>The <code>group-as</code> element is required if the <code>@max-occurs</code> attribute has a value greater than &lsquo;1&rsquo; or <code>unbounded</code> to provide additional information about how to handle the collection of data.</p><p>The <code>group-as</code> element has the following set of attributes:</p><ul><li><code>@name</code>(type: NCName, use: required): The grouping name to use in XML, JSON, and YAML. Use of this name is further clarified by the <code>@in-xml</code> attribute, when used.</li><li><p><code>@in-json</code> (type: special, use: optional, default: SINGLETON_OR_ARRAY):</p><p>In all cases, <code>@name</code> value is used as the property name.</p><table><thead><tr><th align=left>Value</th><th align=left>JSON Behavior</th></tr></thead><tbody><tr><td align=left>ARRAY</td><td align=left>The child objects are to be represented as an array of objects.</td></tr><tr><td align=left>SINGLETON_OR_ARRAY</td><td align=left>If a single object is provided, then the child will be an object, otherwise the child objects will be represented as an array of objects.</td></tr><tr><td align=left>BY_KEY</td><td align=left>An itermediate object will be used as the child, with property names equal to the value of the referenced <code>define-field</code> or <code>define-assembly</code> component&rsquo;s flag as specified by the <code>@json-key</code> attribute on that component. See <a href=#using-json-key>using <code>@json-key</code></a>.</td></tr></tbody></table></li><li><p><code>@in-xml</code> (type: special, use: optional, default: UNGROUPED):</p><table><thead><tr><th align=left>Value</th><th align=left>JSON Behavior</th></tr></thead><tbody><tr><td align=left>GROUPED</td><td align=left>The child elements will be placed within a wrapper element with a localname equal to the value of the <code>@name</code> attribute. Each child element&rsquo;s localname will be the <code>@name</code> of the referenced component.</td></tr><tr><td align=left>UNGROUPED</td><td align=left>The <code>@name</code> attribute is ignored. Each child element&rsquo;s localname will be the <code>@name</code> of the referenced component.</td></tr></tbody></table></li></ul><h5 id=assembly><code>assembly</code></h5><p>Used to reference an <code>assembly-definition</code> who&rsquo;s <code>@name</code> matches the value of the <code>@ref</code> attribute.</p><h5 id=field><code>field</code></h5><p>Used to reference a <code>field-definition</code> who&rsquo;s <code>@name</code> matches the value of the <code>@ref</code> attribute.</p><ul><li><code>@in-xml</code></li></ul><p>See <a href=#using-allowed-values>using <code>allowed-values</code></a>.</p><h3 id=define-flag><code>define-flag</code></h3><p>While data of arbitrary complexity is represented by assemblies (which may contain assemblies), at the other extreme, flags are available for the most granular bits of qualifying information. Since data already appears as text values of fields, flags might not be necessary. But they are extremely useful both for enabling more economical expression of data and especially process-oriented or &ldquo;semantic&rdquo; metadata such as controlled values, formal or informal taxonomic classifications etc. etc.</p><p>Attributes:</p><ul><li><code>@as-type</code>(type: string, use: optional, default: string): Defines the type of the flag&rsquo;s value. The <code>@as-type</code> attribute must have a value that corresponds to a <a href=#simple-data-types>simple</a> (excluding &ldquo;empty&rdquo;) or <a href=#formatted-string-data-types>formatted string</a> data type.</li><li><code>@name</code>(type: NCName, use: required): Used to identify the flag when it is referenced within the metaschema definition.</li></ul><h4 id=allowed-values-1><code>allowed-values</code></h4><p>See <a href=#using-allowed-values>using <code>allowed-values</code></a>.</p><h2 id=local-refinements>Local Refinements</h2><h3 id=local-defintion-of-flag-components>Local defintion of <code>flag</code> components</h3><p>TBD</p><h3 id=using-json-key>Using <code>@json-key</code></h3><p>TBD</p><h3 id=using-allowed-values>Using <code>allowed-values</code></h3><p>TBD</p><h2 id=data-types>Data types</h2><p>A data type can be specified in a metaschema definition within a <code>define-field</code>, <code>define-assembly</code>, <code>define-flag</code>, or <code>flag</code> component definition using the <code>@as-type</code> attribute. The following are the allowed data types.</p><h3 id=simple-data-types>Simple Data types</h3><h4 id=empty>empty</h4><p>This data type indicates that the model information element contains no value content, but may contain other structured information elements.</p><p>In XML, this may represent an element without text content.</p><p>In JSON, this may represent an object with labels corresponding to other child information elements, but no label corresponding to a text value.</p><h4 id=boolean>boolean</h4><p>A boolean value mapped in XML, JSON, and YAML as follows:</p><table><thead><tr><th align=left>Value</th><th align=left>XML</th><th align=left>JSON</th><th align=left>YAML</th></tr></thead><tbody><tr><td align=left>true</td><td align=left><code>true</code> or <code>1</code></td><td align=left><code>true</code></td><td align=left><code>true</code></td></tr><tr><td align=left>false</td><td align=left><code>false</code> or <code>0</code></td><td align=left><code>false</code></td><td align=left><code>false</code></td></tr></tbody></table><h4 id=string>string</h4><p>A string of Unicode characters.</p><h4 id=ncname>NCName</h4><p>A non-colonized name as defined by <a href=https://www.w3.org/TR/xmlschema11-2/#NCName>XML Schema Part 2: Datatypes Second Edition</a>.</p><h4 id=integer>integer</h4><p>An integer value.</p><p>OSCAL represents integers <a href=https://www.w3.org/TR/xmlschema11-2/#integer>as defined in XSD</a>.</p><p>In JSON Schema, the <a href=https://tools.ietf.org/html/draft-handrews-json-schema-validation-01#section-6.1.1><code>integer</code> type</a> is used. Additionally, the <code>multipleOf</code> keyword is set to <code>1.0</code> to ensure an integer value in systems that do not have a native type.</p><h4 id=nonnegativeinteger>nonNegativeInteger</h4><p>An integer value that is equal to or greater than <code>0</code>.</p><p>In XSD, <a href=https://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger>nonNegativeInteger</a> is a built in type derived from the <code>integer</code> type.</p><p>In JSON Schema, this becomes an <code>integer</code> value with an additional <code>minimum</code> constraint of <code>0</code>. Additionally, the <code>multipleOf</code> keyword is set to <code>1.0</code> to ensure an integer value in systems that do not have a native type.</p><h4 id=positiveinteger>positiveInteger</h4><p>A positive integer value.</p><p>In XML Schema, <a href=https://www.w3.org/TR/xmlschema11-2/#nonNegativeInteger>positiveInteger</a> is a built in type derived from the &lsquo;nonNegativeInteger&rsquo; type.</p><p>In JSON Schema, this becomes an <code>integer</code> value with an additional <code>minimum</code> constraint of <code>1</code>. Additionally, the <code>multipleOf</code> keyword is set to <code>1.0</code> to ensure an integer value in systems that do not have a native type.</p><h4 id=decimal>decimal</h4><p>A real number expressed using decimal numerals.</p><p>In XML Schema this is represented as the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#decimal>decimal</a>.</p><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;number&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;(\\+|-)?([0-9]+(\\.[0-9]*)?|\\.[0-9]+)&#34;</span>
<span class=p>}</span></code></pre></div><h3 id=formatted-string-data-types>Formatted String Data types</h3><h4 id=date>date</h4><p>In XML, the <a href=https://www.w3.org/TR/xmlschema11-2/#date>date</a> datatype is used. This is the same as
<a href=#date-with-timezone>date-with-timezone</a>, except the time zone portion is optional.</p><p>In JSON, lexical conformance to dates with optional time zones is provided by a regular expression, the same as given above for <a href=#date-with-timezone>date-with-timezone</a>, except as adjusted for the requirement.</p><h4 id=date-with-timezone>date-with-timezone</h4><p>A string representing a 24-hour period in a given timezone. A <code>date-with-timezone</code> is formatted according to &ldquo;full-date&rdquo; as defined <a href=https://tools.ietf.org/html/rfc3339#section-5.6>RFC3339</a>. This type additionally requires that the time-offset (timezone) is always provided.</p><p>For example:</p><div class=highlight><pre class=chroma>2019-09-28Z
2019-12-02-08:00</pre></div><p>In XML Schema this is represented as a restriction on the built-in type <a href=https://www.w3.org/TR/xmlschema11-2/#date>date</a> as follows:</p><div class=highlight><pre class=chroma><code class=language-XML data-lang=XML><span class=nt>&lt;xs:simpleType</span> <span class=na>name=</span><span class=s>&#34;date-with-timezone&#34;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;xs:annotation&gt;</span>
    <span class=nt>&lt;xs:documentation&gt;</span>The xs:date with a required timezone.<span class=nt>&lt;/xs:documentation&gt;</span>
  <span class=nt>&lt;/xs:annotation&gt;</span>
  <span class=nt>&lt;xs:restriction</span> <span class=na>base=</span><span class=s>&#34;xs:date&#34;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;xs:pattern</span> <span class=na>value=</span><span class=s>&#34;((2000|2400|2800|(19|2[0-9](0[48]|[2468][048]|[13579][26])))-02-29)|(((19|2[0-9])[0-9]{2})-02-(0[1-9]|1[0-9]|2[0-8]))|(((19|2[0-9])[0-9]{2})-(0[13578]|10|12)-(0[1-9]|[12][0-9]|3[01]))|(((19|2[0-9])[0-9]{2})-(0[469]|11)-(0[1-9]|[12][0-9]|30))(Z|[+-][0-9]{2}:[0-9]{2})(Z|[+-][0-9]{2}:[0-9]{2})&#34;</span><span class=nt>/&gt;</span>
  <span class=nt>&lt;/xs:restriction&gt;</span>
<span class=nt>&lt;/xs:simpleType&gt;</span></code></pre></div><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;((2000|2400|2800|(19|2[0-9](0[48]|[2468][048]|[13579][26])))-02-29)|(((19|2[0-9])[0-9]{2})-02-(0[1-9]|1[0-9]|2[0-8]))|(((19|2[0-9])[0-9]{2})-(0[13578]|10|12)-(0[1-9]|[12][0-9]|3[01]))|(((19|2[0-9])[0-9]{2})-(0[469]|11)-(0[1-9]|[12][0-9]|30))(Z|[+-][0-9]{2}:[0-9]{2})(Z|[+-][0-9]{2}:[0-9]{2})&#34;</span>
<span class=p>}</span></code></pre></div><h4 id=datetime>dateTime</h4><p>In XML, the <a href=https://www.w3.org/TR/xmlschema11-2/#dateTime>dateTime</a> datatype is used. This is the same as
<a href=#datetime-with-timezone>dateTime-with-timezone</a>, except the time zone portion is optional.</p><p>In JSON, lexical conformance to date-times with optional time zones is provided by a regular expression, the same as given above for <a href=#datetime-with-timezone>dateTime-with-timezone</a>, except as adjusted for the requirement.</p><h4 id=datetime-with-timezone>dateTime-with-timezone</h4><p>A string containing a date and time formatted according to &ldquo;date-time&rdquo; as defined <a href=https://tools.ietf.org/html/rfc3339#section-5.6>RFC3339</a>. This type requires that the time-offset (timezone) is always provided. This use of timezone ensure that date/time information that is exchanged across timezones is unambiguous.</p><p>For example:</p><div class=highlight><pre class=chroma>2019-09-28T23:20:50.52Z
2019-12-02T16:39:57-08:00
2019-12-31T23:59:60Z</pre></div><p>In XML Schema this is represented as a restriction on the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#dateTime>dateTime</a> as follows:</p><div class=highlight><pre class=chroma><code class=language-XML data-lang=XML><span class=nt>&lt;xs:simpleType</span> <span class=na>name=</span><span class=s>&#34;dateTime-with-timezone&#34;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;xs:annotation&gt;</span>
    <span class=nt>&lt;xs:documentation&gt;</span>The xs:dateTime with a required timezone.<span class=nt>&lt;/xs:documentation&gt;</span>
  <span class=nt>&lt;/xs:annotation&gt;</span>
  <span class=nt>&lt;xs:restriction</span> <span class=na>base=</span><span class=s>&#34;xs:dateTime&#34;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;xs:pattern</span> <span class=na>value=</span><span class=s>&#34;((2000|2400|2800|(19|2[0-9](0[48]|[2468][048]|[13579][26])))-02-29)|(((19|2[0-9])[0-9]{2})-02-(0[1-9]|1[0-9]|2[0-8]))|(((19|2[0-9])[0-9]{2})-(0[13578]|10|12)-(0[1-9]|[12][0-9]|3[01]))|(((19|2[0-9])[0-9]{2})-(0[469]|11)-(0[1-9]|[12][0-9]|30))T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\.[0-9]+)?(Z|[+-][0-9]{2}:[0-9]{2})&#34;</span><span class=nt>/&gt;</span>
  <span class=nt>&lt;/xs:restriction&gt;</span>
<span class=nt>&lt;/xs:simpleType&gt;</span></code></pre></div><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;date-time&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;((2000|2400|2800|(19|2[0-9](0[48]|[2468][048]|[13579][26])))-02-29)|(((19|2[0-9])[0-9]{2})-02-(0[1-9]|1[0-9]|2[0-8]))|(((19|2[0-9])[0-9]{2})-(0[13578]|10|12)-(0[1-9]|[12][0-9]|3[01]))|(((19|2[0-9])[0-9]{2})-(0[469]|11)-(0[1-9]|[12][0-9]|30))T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]+)?(Z|[+-][0-9]{2}:[0-9]{2})&#34;</span>
<span class=p>}</span></code></pre></div><h4 id=email>email</h4><p>An email address string formatted acording to <a href=https://tools.ietf.org/html/rfc6531>RFC 6531</a>.</p><p>In XML Schema this is represented as the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#string>string</a> until a suitable pattern can be developed.</p><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;idn-email&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;.+@.+&#34;</span>
<span class=p>}</span></code></pre></div><p>Once a suitable pattern for XML is developed, this pattern will be ported to JSON for more consistent validation.</p><h4 id=hostname>hostname</h4><p>An internationalized Internet host name string formatted acording to <a href=https://tools.ietf.org/html/rfc5890#section-2.3.2.3>section 2.3.2.3</a> of RFC 5890.</p><p>In XML Schema this is represented as the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#string>string</a> until a suitable pattern can be developed.</p><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;idn-hostname&#34;</span>
<span class=p>}</span></code></pre></div><p>Once a suitable pattern for XML is developed, this pattern will be ported to JSON for more consistent validation.</p><h4 id=ip-v4-address>ip-v4-address</h4><p>An Internet Protocol version 4 address in dotted-quad ABNF syntax as defined in <a href=https://tools.ietf.org/html/rfc2673#section-3.2>section 3.2</a> of RFC 2673.</p><p>In XML Schema this is represented as a restriction on the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#string>string</a> as follows:</p><div class=highlight><pre class=chroma><code class=language-XML data-lang=XML><span class=nt>&lt;xs:simpleType</span> <span class=na>name=</span><span class=s>&#34;ip-v4-address&#34;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;xs:annotation&gt;</span>
    <span class=nt>&lt;xs:documentation&gt;</span>The ip-v4-address type specifies an IPv4 address in dot decimal notation.<span class=nt>&lt;/xs:documentation&gt;</span>
  <span class=nt>&lt;/xs:annotation&gt;</span>
  <span class=nt>&lt;xs:restriction</span> <span class=na>base=</span><span class=s>&#34;xs:string&#34;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;xs:whiteSpace</span> <span class=na>value=</span><span class=s>&#34;collapse&#34;</span><span class=nt>/&gt;</span>
    <span class=nt>&lt;xs:pattern</span> <span class=na>value=</span><span class=s>&#34;((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]).){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])&#34;</span><span class=nt>/&gt;</span>
  <span class=nt>&lt;/xs:restriction&gt;</span>
<span class=nt>&lt;/xs:simpleType&gt;</span></code></pre></div><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;ipv4&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]).){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])&#34;</span>
<span class=p>}</span></code></pre></div><h4 id=ip-v6-address>ip-v6-address</h4><p>An Internet Protocol version 6 address in dotted-quad ABNF syntax as defined in <a href=https://tools.ietf.org/html/rfc3513#section-2.2>section 2.2</a> of RFC 3513.</p><p>In XML Schema this is represented as a restriction on the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#string>string</a> as follows:</p><div class=highlight><pre class=chroma><code class=language-XML data-lang=XML><span class=nt>&lt;xs:simpleType</span> <span class=na>name=</span><span class=s>&#34;ip-v6-address&#34;</span><span class=nt>&gt;</span>
  <span class=nt>&lt;xs:annotation&gt;</span>
    <span class=nt>&lt;xs:documentation&gt;</span>The ip-v4-address type specifies an IPv4 address in dot decimal notation.<span class=nt>&lt;/xs:documentation&gt;</span>
  <span class=nt>&lt;/xs:annotation&gt;</span>
  <span class=nt>&lt;xs:restriction</span> <span class=na>base=</span><span class=s>&#34;xs:string&#34;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;xs:whiteSpace</span> <span class=na>value=</span><span class=s>&#34;collapse&#34;</span><span class=nt>/&gt;</span>
    <span class=nt>&lt;xs:pattern</span> <span class=na>value=</span><span class=s>&#34;(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]).){3,3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]).){3,3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]))&#34;</span><span class=nt>/&gt;</span>
  <span class=nt>&lt;/xs:restriction&gt;</span>
<span class=nt>&lt;/xs:simpleType&gt;</span></code></pre></div><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;ipv6&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]).){3,3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]).){3,3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9]))&#34;</span>
<span class=p>}</span></code></pre></div><h4 id=uri>uri</h4><p>A universal resource identifier (URI) formatted according to <a href=https://tools.ietf.org/html/rfc3986>RFC3986</a>.</p><p>In XML Schema this is represented as the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#anyURI>anyURI</a> until a suitable pattern can be developed.</p><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;uri&#34;</span>
<span class=p>}</span></code></pre></div><p>Once a suitable pattern for XML is developed, this pattern will be ported to JSON for more consistent validation.</p><h4 id=uri-reference>uri-reference</h4><p>A URI Reference (either a URI or a relative-reference) formatted according to <a href=https://tools.ietf.org/html/rfc3986#section-4.1>section 4.1</a> of RFC3986,</p><p>In XML Schema this is represented as the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#anyURI>anyURI</a> until a suitable pattern can be developed.</p><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;uri-reference&#34;</span>
<span class=p>}</span></code></pre></div><p>Once a suitable pattern for XML is developed, this pattern will be ported to JSON for more consistent validation.</p><h4 id=base64binary>base64Binary</h4><p>A string representing arbitrary Base64-encoded binary data.</p><p>In XML Schema this is represented as the built in type <a href=https://www.w3.org/TR/xmlschema11-2/#base64Binary>base64Binary</a> until a suitable pattern can be developed.</p><p>In JSON Schema, this is represented as:</p><div class=highlight><pre class=chroma><code class=language-JSON data-lang=JSON><span class=p>{</span>
  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
  <span class=nt>&#34;contentEncoding&#34;</span><span class=p>:</span> <span class=s2>&#34;base64&#34;</span>
<span class=p>}</span></code></pre></div><p>Once a suitable pattern for XML is developed, this pattern will be ported to JSON for more consistent validation.</p><h3 id=markup-data-types>Markup Data Types</h3><p>Structured prose text in OSCAL is designed to map cleanly to equivalent subsets of HTML and Markdown. This allows HTML-like markup to be incorporated in OSCAL XML-based content using an element set maintained in the OSCAL namespace. This HTML-equivalent element set is not intended to be treated directly as HTML, but to be readily and transparently converted to HTML (or other presentational formats) as needed. Similarly, OSCAL uses a subset of Markdown for use in OSCAL JSON- and YAML-based content. A mapping is supported between the HTML-like element set and the Markdown syntax, which supports transparent and lossless bidirectional mapping between both OSCAL markup representations.</p><p>The OSCAL HTML-like syntax supports:</p><ul><li><p>HTML paragraphs (<code>p</code>), headers (<code>h1</code>-<code>h6</code>), tables (<code>table</code>), preformatted text (<code>pre</code>), code blocks (<code>code</code>), and ordered and unordered lists (<code>ol</code> and <code>ul</code>.)</p></li><li><p>Within paragraphs or text content: <code>a</code>, <code>img</code>, <code>strong</code>, <code>em</code>, <code>b</code>, <code>i</code>, <code>sup</code>, <code>sub</code>.</p></li></ul><p>In remarks below and throughout this documentation, this element set may be referred to as &ldquo;prose content&rdquo; or &ldquo;prose&rdquo;. A future OSCAL could support the definition of this tag set (and Markdown equivalent) as a module, enabling our HTML subset to be switched out for something else. (Its prose model would be different from OSCAL prose as currently defined.)</p><p>Note that elements such as <code>div</code>, <code>blockquote</code>, <code>section</code> or <code>aside</code>, used in HTML to provide structure, are <em>not permitted in OSCAL</em>. Structures in OSCAL should be represented using OSCAL elements (or objects in JSON) such as <code>part</code>, which can include prose.</p><p>In addition, there are contexts in OSCAL where prose usage may be further constrained. For example, at a higher level (outside the base schema) an OSCAL application could forbid the use of prose headers <code>h1-h6</code> in favor of nested OSCAL <code>part</code> elements with their own titles.</p><p>The OSCAL Markdown syntax is loosely based on CommonMark. When in doubt about Markdown features and syntax, we look to CommonMark for guidance, largely because it is more rigorously tested than many others forms of Markdown.</p><h4 id=markup-line>markup-line</h4><p>The following table describes the equavalent constructs in HTML and Markdown used in OSCAL within the <code>markup-line</code> data type.</p><table><thead><tr><th align=left>Markup Type</th><th align=left>HTML</th><th align=left>Markdown</th></tr></thead><tbody><tr><td align=left>Emphasis (preferred)</td><td align=left>&lt;em&gt;<em>text</em>&lt;/em&gt;</td><td align=left>*<em>text</em>*</td></tr><tr><td align=left>Emphasis</td><td align=left>&lt;i&gt;<em>text</em>&lt;/i&gt;</td><td align=left>*<em>text</em>*</td></tr><tr><td align=left>Important Text (preferred)</td><td align=left>&lt;strong&gt;<em>text</em>&lt;/strong&gt;</td><td align=left>**<em>text</em>**</td></tr><tr><td align=left>Important Text</td><td align=left>&lt;b&gt;<em>text</em>&lt;/b&gt;</td><td align=left>**<em>text</em>**</td></tr><tr><td align=left>Inline code</td><td align=left>&lt;code&gt;<em>text</em>&lt;/code&gt;</td><td align=left>`<em>text</em>`</td></tr><tr><td align=left>Quoted Text</td><td align=left>&lt;q&gt;<em>text</em>&lt;/q&gt;</td><td align=left>&ldquo;<em>text</em>&ldquo;</td></tr><tr><td align=left>Subscript Text</td><td align=left>&lt;sub&gt;<em>text</em>&lt;/sub&gt;</td><td align=left>~<em>text</em>~</td></tr><tr><td align=left>Superscript Text</td><td align=left>&lt;sup&gt;<em>text</em>&lt;/sup&gt;</td><td align=left>\^<em>text</em>\^</td></tr><tr><td align=left>Image</td><td align=left>&lt;img alt=&rdquo;<em>alt text</em>&rdquo; src=&rdquo;<em>url</em>&rdquo; title=&rdquo;<em>title text</em>&rdquo;/&gt;</td><td align=left>![<em>alt text</em>](<em>url</em> &ldquo;<em>title text</em>&rdquo;)</td></tr><tr><td align=left>Link</td><td align=left>&lt;a <em>href</em>=&rdquo;<em>url</em>&ldquo;&gt;<em>text</em>&lt;/a&gt;</td><td align=left>[<em>text</em>](<em>url</em>)</td></tr></tbody></table><p>Note: Markdown does not have an equivalent of the HTML &lt;i&gt; and &lt;b&gt; tags, which indicate italics and bold respectively. These concepts are mapped in OSCAL markup text to &lt;em&gt; and &lt;strong&gt; <a href=https://spec.commonmark.org/0.29/#emphasis-and-strong-emphasis>common mark</a>, which render equivalently in browsers, but do not have exactly the same semantics. While this mapping is imperfect, it represents the common uses of these HTML tags.</p><h5 id=parameter-insertion>Parameter Insertion</h5><p>The OSCAL catalog, profile, and implementation layer models allow for control parameters to be defined and injected into prose text.</p><p>Parameter injection is handled in OSCAL as follows using the &lt;insert&gt; tag:</p><div class=highlight><pre class=chroma><code class=language-html data-lang=html>Reviews and updates the risk management strategy <span class=p>&lt;</span><span class=nt>insert</span> <span class=na>param-id</span><span class=o>=</span><span class=s>&#34;pm-9_prm_1&#34;</span><span class=p>/&gt;</span> or as required, to address organizational changes.</code></pre></div><p>The same string in Markdown is represented as follows:</p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>Reviews and updates the risk management strategy {{ pm-9_prm_1 }} or as required, to address organizational changes.</code></pre></div><h5 id=specialized-character-mapping>Specialized Character Mapping</h5><p>The following characters have special handling in their HTML and/or Markdown forms.</p><table><thead><tr><th>Character</th><th>XML HTML</th><th>(plain) Markdown</th><th>Markdown in JSON</th><th>Markdown in YAML</th></tr></thead><tbody><tr><td>&amp; (ampersand)</td><td>&amp;amp;</td><td>&amp;</td><td>&amp;</td><td>&amp;</td></tr><tr><td>&lt; (less-than sign or left angle bracket)</td><td>&amp;lt;</td><td>&lt;</td><td>&lt;</td><td>&lt;</td></tr><tr><td>&gt; (greater-than sign or right angle bracket</td><td>&gt; <strong>or</strong> &amp;gt;</td><td>&gt;</td><td>&gt;</td><td>&gt;</td></tr><tr><td>&#34; (straight double quotation mark)</td><td>&#34; <strong>or</strong> &amp;quot;</td><td>\&#34;</td><td>\\&#34;</td><td>\\&#34;</td></tr><tr><td>&#39; (straight apostrophe)</td><td>&#39; <strong>or</strong> &amp;apos;</td><td>\&#39;</td><td>\\&#39;</td><td>\\&#39;</td></tr><tr><td>* (asterisk)</td><td>*</td><td>\*</td><td>\\*</td><td>\\*</td></tr><tr><td>&#96; (grave accent or back tick mark)</td><td>&#96;</td><td>\&#96;</td><td>\\&#96;</td><td>\\&#96;</td></tr><tr><td>~ (tilde)</td><td>~</td><td>\~</td><td>\\~</td><td>\\~</td></tr><tr><td>^ (caret)</td><td>^</td><td>\^</td><td>\\^</td><td>\\^</td></tr></tbody></table><p>While the characters <code>*`~^</code> are valid for use unescaped in JSON strings and YAML double quoted strings, these characters have special meaning in Markdown markup. As a result, when these characters appear as literals in a Markdown representation, they must be escaped to avoid them being parsed as Markdown to indicate formatting. The escaped representation indicates these characters are to be represented as characters, not markup, when the Markdown is mapped to HTML.</p><p>Because the character &ldquo;\&rdquo; (back slash or reverse solidus) must be escaped in JSON, note that those characters that require a back slash to escape them in Markdown, such as &ldquo;*&rdquo; (appearing as &ldquo;\*&rdquo;), must be <em>double escaped</em> (as &ldquo;\\*&rdquo;) to represent the escaped character in JSON or YAML. In conversion, the JSON or YAML processor reduces these to the simple escaped form, again permitting the Markdown processor to recognize them as character contents, not markup.</p><p>Since these characters are not markup delimiters in XML, they are safe to use there without special handling. The XML open markup delimiters &ldquo;&lt;&rdquo; and &ldquo;&amp;&rdquo;, when appearing in XML contents, must as always be escaped as named entities or numeric character references, if they are to be read as literal characters not markup.</p><h4 id=markup-multiline>markup-multiline</h4><p>All constructs supported by the <a href=#markup-line>markup-line</a> data type are also supported by the <code>markup-multiline</code> data type, when appearing within a header (<code>h1</code>-<code>h6</code>), paragraph (<code>p</code>), list item (<code>li</code>) or table cell (<code>th</code> or <code>td</code>).</p><p>The following additional constructs are also supported. Note that the syntax for these elements must appear on their own lines (i.e., with additional line feeds as delimiters), as is usual in Markdown.</p><table><thead><tr><th align=left>Markup Type</th><th align=left>HTML</th><th align=left>Markdown</th></tr></thead><tbody><tr><td align=left>Heading: Level 1</td><td align=left>&lt;h1&gt;<em>text</em>&lt;/h1&gt;</td><td align=left># <em>text</em></td></tr><tr><td align=left>Heading: Level 2</td><td align=left>&lt;h2&gt;<em>text</em>&lt;/h2&gt;</td><td align=left>## <em>text</em></td></tr><tr><td align=left>Heading: Level 3</td><td align=left>&lt;h3&gt;<em>text</em>&lt;/h3&gt;</td><td align=left>### <em>text</em></td></tr><tr><td align=left>Heading: Level 4</td><td align=left>&lt;h4&gt;<em>text</em>&lt;/h4&gt;</td><td align=left>#### <em>text</em></td></tr><tr><td align=left>Heading: Level 5</td><td align=left>&lt;h5&gt;<em>text</em>&lt;/h5&gt;</td><td align=left>##### <em>text</em></td></tr><tr><td align=left>Heading: Level 6</td><td align=left>&lt;h6&gt;<em>text</em>&lt;/h6&gt;</td><td align=left>###### <em>text</em></td></tr><tr><td align=left>Preformatted Text</td><td align=left>&lt;pre&gt;<em>text</em>&lt;/pre&gt;</td><td align=left>```<em>text</em>```</td></tr><tr><td align=left>Ordered List, with a single item</td><td align=left>&lt;ol&gt;&lt;li&gt;<em>text</em>&lt;/li&gt;&lt;/ol&gt;</td><td align=left>1. <em>text</em></td></tr><tr><td align=left>Unordered List with single item</td><td align=left>&lt;ul&gt;&lt;li&gt;<em>text</em>&lt;/li&gt;&lt;/ul&gt;</td><td align=left>- <em>text</em></td></tr></tbody></table><h5 id=paragraphs>Paragraphs</h5><p>Additionally, the use of &lt;p&gt; tags in HTML is mapped to Markdown as two double, escaped newlines within a JSON or YAML string (i.e., &ldquo;\\n\\n&rdquo;). This allows Mardown text to be split into paragraphs when this data type is used.</p><h5 id=tables>Tables</h5><p>Tables are also supported by <code>markup-multiline</code> which are mapped from Markdown to HTML as follows:</p><ul><li>The first row in a Markdown table is considered a header row, with each cell mapped as a &lt;th&gt;.</li><li>The alignment formatting (second) row of the Markdown table is not converted to HTML. Formatting is currently ignored.</li><li>Each remaining row is mapped as a cell using the &lt;td&gt; tag.</li><li>HTML <code>colspan</code> and <code>rowspan</code> are not supported by Markdown, and so are excluded from OSCAL.</li></ul><p>OSCAL attempts to support simple tables mainly due to the prevalence of tables in legacy data sets. However, producers of OSCAL data should note that when they have tabular information, these are frequently semantic structures or matrices that can be described directly in OSCAL as named parts and properties or as parts, sub-parts and paragraphs. This ensures that their nominal or represented semantics are accessible for processing when this information would be lost in plain table cells. Table markup should be used only as a fallback option when stronger semantic labeling is not possible.</p><p>Tables are mapped from HTML to Markdown as follows:</p><ul><li>Only a single header row &lt;tr&gt;&lt;th&gt; is supported. This row is mapped to the Markdown table header, with header cells preceded, delimited, and terminated by <code>|</code>.</li><li>The second row is given as a sequence of <code>---</code>, as many as the table has columns, delimited by single <code>|</code>. In Markdown, a simple syntax here can be used to indicate the alignment of cells; OSCAL HTML does not support this feature.</li><li>Each subsequent row is mapped to the Markdown table rows, with cells preceded, delimited, and terminated by <code>|</code>.</li></ul><p>For example:</p><p>The following HTML table:</p><div class=highlight><pre class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>table</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Col A<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;&lt;</span><span class=nt>th</span><span class=p>&gt;</span>Col B<span class=p>&lt;/</span><span class=nt>th</span><span class=p>&gt;&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;&lt;</span><span class=nt>td</span><span class=p>&gt;</span>Have some of<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;&lt;</span><span class=nt>td</span><span class=p>&gt;</span>Try all of<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span></code></pre></div><p>Is mapped to the Markdown table:</p><div class=highlight><pre class=chroma><code class=language-markdown data-lang=markdown>| Col A | Col B |
| --- | --- |
| Have some of | Try all of |</code></pre></div><h5 id=line-feeds-in-markdown>Line feeds in Markdown</h5><p>Additionally, line feed (LF) characters must be escaped as &ldquo;\n&rdquo; when appearing in string contents in JSON and (depending on placement) in YAML. In Markdown, the line feed is used to delimit paragraphs and other block elements, represented using markup (tagging) in the XML version. When transcribed into JSON, these LF characters must also appear as &ldquo;\n&rdquo;.</p><h2 id=enumerated-values>Enumerated values</h2><p>Additionally, flags may be constrained to a set of known values listed in advance.</p><p>This restriction can be either strict (values must be in the list for document validity) or loose (i.e. for documentation only, no effect in schemas).</p><p>Use the <code>valid-values</code> element to restrict the permissible values for a flag. Set its attribute <code>allow-other='yes'</code> if the list is not exclusive.</p><p>Within it <code>valid-values</code>, a <code>value</code> element&rsquo;s <code>@name</code> attribute assigns the permissible value, while its data content provides documentation. For example:</p><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=nt>&lt;define-flag</span> <span class=na>name=</span><span class=s>&#34;algorithm&#34;</span> <span class=na>datatype=</span><span class=s>&#34;string&#34;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;formal-name&gt;</span>Hash algorithm<span class=nt>&lt;/formal-name&gt;</span>
    <span class=nt>&lt;description&gt;</span>Method by which a hash is derived<span class=nt>&lt;/description&gt;</span>
    <span class=nt>&lt;valid-values</span> <span class=na>allow-other=</span><span class=s>&#34;yes&#34;</span><span class=nt>&gt;</span>
      <span class=nt>&lt;value</span> <span class=na>name=</span><span class=s>&#34;SHA-224&#34;</span><span class=nt>/&gt;</span>
      <span class=nt>&lt;value</span> <span class=na>name=</span><span class=s>&#34;SHA-256&#34;</span><span class=nt>/&gt;</span>
      <span class=nt>&lt;value</span> <span class=na>name=</span><span class=s>&#34;SHA-384&#34;</span><span class=nt>/&gt;</span>
      <span class=nt>&lt;value</span> <span class=na>name=</span><span class=s>&#34;SHA-512&#34;</span><span class=nt>/&gt;</span>
      <span class=nt>&lt;value</span> <span class=na>name=</span><span class=s>&#34;RIPEMD-160&#34;</span><span class=nt>/&gt;</span>
    <span class=nt>&lt;/valid-values&gt;</span> ...</code></pre></div><h2 id=metaschema-modeling>Metaschema modeling</h2><p>In the case of field and flag objects, the modeling constraints to be imposed by the result schemas (either XSD or JSON Schema) over the data set, can be determined on the basis of how they are described. Assembly definitions, however, permit not only flags to be assigned to assemblies of the defined type; additionally, they contain a <code>model</code> element for a <em>mode declaration</em>. This declaration names the subcomponents to be permitted (in documents valid to the target schemas) within any assembly of the type being defined.</p><p>Five elements are used within <code>model</code> to define permissible contents of assemblies (elements or objects) being defined. Each of these represents a different object type. Flags are not assigned via <code>model</code> but directly in the definition; for the model, we can choose either singles or plurals of named fields or assemblies (i.e., a binary choice between cardinality constraints to be applied). This gives us four choices; additionally, we have the opportunity to use an element <code>prose</code>, once inside any assembly&rsquo;s model.</p><p>Among these elements, no single <code>@named</code> attribute value (which refers a model component to its definition) may be used more than once. Additionally, no <code>@group-as</code> (on a <code>fields</code> or <code>assemblies</code>) may be reused or be the same as any <code>@named</code>. The <code>prose</code> element may be used only once. Finally, no value of <code>@named</code> or <code>@group-as</code> must be the same as a recognized name of an element directly within prose, namely (at present) <code>p</code>, <code>ul</code>, <code>ol</code>, and <code>pre</code>.</p><p>With these limitations, a model may be defined to contain any mix of fields and assemblies.</p><ul><li><code>field</code> refers to a field definition and permits a single occurrence of the indicated field</li><li><code>field/@required='yes'</code> a field component is to be required in a model by any schema based on the metaschema</li><li><code>assembly</code> refers to an assembly definition and permits a single occurrence of the indicated assembly.</li><li><code>fields</code> - same as <code>field</code>, but permits the field to be repeated. In the JSON representation the multiple values are represented as any array unless <code>@address</code> is given</li><li><code>assemblies</code> - same as <code>fields</code>, but for assemblies. In JSON, this construct is also presented as an array unless there is an <code>@address</code></li><li><code>prose</code> refers to a &ldquo;region of prose&rdquo;, that is, a section of prose text of unspecified length. In XML, prose is represented in conventional fashion as (a sequence of) <code>&lt;p&gt;</code> and list elements (<code>&lt;ul&gt;</code> or <code>&lt;ol&gt;</code>) perhaps with inline markup (indicating further formatting). For consistency across metaschema applications, the permitted tagging will always be conformant to the same model for prose, managed to reflect (echo) a clean HTML subset. This specification also permits the markup vocabulary to be mapped to a text-based markdown syntax, suitable for use within JSON expressions of the same or similar data.</li></ul><h2 id=json-enhancement-features>JSON Enhancement features</h2><h3 id=use-of-key>Use of <code>key</code></h3><p>One problem with zero-or-more cardinality as supported by <code>fields</code> and <code>assemblies</code> is that in JSON, no suitable structure is available for the inclusion of truly arbitrary but repeatable properties or &lsquo;contents&rsquo; (as to its structural type) on an object. The closest thing is an array, which can be pulled into use for this &ndash; at the cost of not permitting a JSON property label on items in the array. In order to capture the same information as is transparently available on the XML, it is therefore necessary to &lsquo;finesse&rsquo; the JSON object type: Metaschema does this by mapping each field or assembly in a zero-or-many set, to an array with the corresponding number of items. The name of the objects can thus be captured implicitly, by naming (labeling) their containing array.</p><p>This works, but there are also occasions when a much more concise mapping may also be supported &ndash; if the data can be ensured to follow another rule, namely that data elements (string data) can be known to be uniquely-valued. In these cases there is a different option, namely to promote a flag of a particular known (and controlled) type, to a role as &ldquo;address&rdquo; &ndash; which can (incidentally) serve as a label on a JSON property, thus improving both presentation, and addressability.</p><p>Accordingly, <code>@address</code> on <code>field</code> or <code>assemblies</code> indicates that their contents (components, that is each field or assembly in the series) may be addressed using the flag (attribute) of the given name. So if <code>address='id'</code>, for example, and an <code>id</code> flag is included on the field or assemply, such flag is assumed to be unique and validable as such (at least within the scope of its parent or containing structure), thus making it suitable for use as a label; consequently, in JSON, the field or assembly can be represented as a labeled property (of an object) rather than an unlabeled member of an array (of similar objects). This both reduces the data footprint and renders the data more addressable via key constructs such as identifiers.</p><p>To support this, flags used as addresses should be declared as type <code>ID</code>, providing &ldquo;an extra layer of protection&rdquo;. On the JSON side, validating the uniqueness of these values (on same-named properties across document scope) remains TBD.</p><div class=highlight><pre class=chroma>&lt;define-field name=&#34;title&#34; as=&#34;mixed&#34;/&gt;</pre></div><div class=highlight><pre class=chroma>&lt;title&gt;Water (H&lt;sub&gt;2&lt;/sub&gt;0&lt;/title&gt;</pre></div><div class=highlight><pre class=chroma>&#34;title&#34; : &#34;Water (H~~2~~0)&#34;</pre></div></article></div></div></div></main><p class="font-sans-sm text-center" style="margin:1.5rem auto">This page was last updated on January 9, 2020. <button id=main-improve-page onclick="window.location.href='https:\/\/github.com\/usnistgov\/metaschema\/tree\/master\/docs\/content/specification\/syntax\/_index.md';" class="usa-button usa-button--accent-cool">Improve this Page</button></p><script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js integrity=sha384-S2Sj9dbj135Vzm4xwOrcyOA/FlODQj514E6Il+ayOB/Y0YClPg5BpCy7lG2G8wtV crossorigin=anonymous></script><script type=text/javascript src=https://pages.nist.gov/metaschema/js/site.min.js integrity="sha512-jQyHaE6yz/5a3qAMJZ/QxGXQSotKG9mrQEqxgyXRilAQeH5muW&#43;znGxYOy63LqwTbcl8sPNRosqdROMtsHsIKA=="></script><script>$(document).ready(function(e){});tocbot.init({tocSelector:'#js-toc',contentSelector:'#main-content',headingSelector:'h2,h3,h4,h5',includeHtml:true,collapseDepth:0,hasInnerContainers:true,orderedList:false,listClass:'usa-sidenav',listItemClass:'toc-item',extraLinkClasses:'usa-sidenav__item',activeLinkClass:'usa-current'});</script><script type=text/javascript src=https://pages.nist.gov/leaveNotice/js/jquery.leaveNotice-nist.min.js></script><script>$(document).ready(function(){$('a[href*="//"]:not([href*="pages.nist.gov"]):not([href*="www.nist.gov"]):not([href^="#"]):not([href^="/"])').addClass('usa-link usa-link--external');$('a.usa-link--external').leaveNotice();});</script></body></html>
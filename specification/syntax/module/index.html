<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><script type=text/javascript src=../../../module/hugo-uswds/js/uswds-init.min.js></script>
<link rel=preload href=../../../module/hugo-uswds/js/uswds.min.js as=script><link rel=stylesheet href=../../../module/hugo-uswds/css/styles.css><title>Metaschema Module</title><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-66610693-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script type=text/javascript src=../../../module/hugo-uswds/js/jquery.min.js></script>
<script type=text/javascript defer src=../../../module/hugo-uswds/js/hugo-uswds.min.js></script>
<link rel=stylesheet href=https://pages.nist.gov/nist-header-footer/css/nist-combined.css><link rel=stylesheet type=text/css href=https://pages.nist.gov/leaveNotice/css/jquery.leaveNotice.css><link rel=stylesheet href=../../../module/hugo-uswds-nist/css/nist-banner.css></head><body><div id=nistheadergoeshere></div><a class=usa-skipnav href=#main-content>Skip to main content</a><section class=usa-banner aria-label="Official website of the United States government"><div class=usa-accordion><header class=usa-banner__header><div class=usa-banner__inner><div class=grid-col-auto><img aria-hidden=true class=usa-banner__header-flag src=../../../module/hugo-uswds/img/us_flag_small.png alt></div><div class="grid-col-fill tablet:grid-col-auto" aria-hidden=true><p class=usa-banner__header-text>An official website of the United States government</p><p class=usa-banner__header-action>Here’s how you know</p></div><button type=button class="usa-accordion__button usa-banner__button" aria-expanded=false aria-controls=gov-banner-default-default>
<span class=usa-banner__button-text>Here’s how you know</span></button></div></header><div class="usa-banner__content usa-accordion__content" id=gov-banner-default-default><div class="grid-row grid-gap-lg"><div class="usa-banner__guidance tablet:grid-col-6"><img class="usa-banner__icon usa-media-block__img" src=../../../module/hugo-uswds/img/icon-dot-gov.svg role=img alt aria-hidden=true><div class=usa-media-block__body><p><strong>Official websites use .gov</strong><br>A
<strong>.gov</strong> website belongs to an official government
organization in the United States.</p></div></div><div class="usa-banner__guidance tablet:grid-col-6"><img class="usa-banner__icon usa-media-block__img" src=../../../module/hugo-uswds/img/icon-https.svg role=img alt aria-hidden=true><div class=usa-media-block__body><p><strong>Secure .gov websites use HTTPS</strong><br>A
<strong>lock</strong> (
<span class=icon-lock><svg xmlns="http://www.w3.org/2000/svg" width="52" height="64" viewBox="0 0 52 64" class="usa-banner__lock-image" role="img" aria-labelledby="banner-lock-description-default" focusable="false"><title id="banner-lock-title-default">Lock</title><desc id="banner-lock-description-default">Locked padlock icon</desc><path fill="#000" fill-rule="evenodd" d="M26 0c10.493.0 19 8.507 19 19v9h3a4 4 0 014 4v28a4 4 0 01-4 4H4a4 4 0 01-4-4V32a4 4 0 014-4h3v-9C7 8.507 15.507.0 26 0zm0 8c-5.979.0-10.843 4.77-10.996 10.712L15 19v9h22v-9c0-6.075-4.925-11-11-11z"/></svg></span>) or <strong>https://</strong> means you’ve safely connected to
the .gov website. Share sensitive information only on official,
secure websites.</p></div></div></div></div></div></section><div class=usa-overlay></div><header class="usa-header usa-header--extended site-header"><div class="usa-navbar site-header__navbar"><div id=extended-logo class="usa-logo site-logo"><em class="usa-logo__text site-logo__text"><a href=../../../ title="Metaschema Information Modeling Framework" aria-label=Home><span class=site-title--short>Metaschema</span>
<span class=site-title--long>Metaschema Information Modeling Framework</span></a></em></div><div class="site-nav-secondary usa-nav__secondary"><ul class=usa-nav__secondary-links><li class=usa-nav__secondary-item><a href=../../../contribute/contact/>Contact Us</a></li><li class=usa-nav__secondary-item><a href=../../../contribute/>Get involved</a></li><li class=usa-nav__secondary-item><a href=https://github.com/usnistgov/metaschema>Github</a></li></ul><section aria-label="Search component"><form class="usa-search usa-search--small" role=search action=https://search.usa.gov/search><input id=affiliate name=affiliate type=hidden value=metaschema>
<input name=utf8 type=hidden value=&#x2713;>
<label class=usa-sr-only for=search-field-en-small>Search</label>
<input class=usa-input id=search-field-en-small type=search name=query>
<button class=usa-button type=submit><img src=../../../module/hugo-uswds/img/usa-icons-bg/search--white.svg class=usa-search__submit-icon alt=Search></button></form></section></div><button class=usa-menu-btn>Menu</button></div></header><nav class="site-nav usa-nav sticky" aria-label="Primary navigation"><div class="usa-nav__inner site-nav__inner"><button class=usa-nav__close><img src=../../../module/hugo-uswds/img/usa-icons/close.svg role=img alt=close></button><ul class="usa-nav__primary usa-accordion"><li class=usa-nav__primary-item><a class=usa-nav__link href=../../../specification/><span>Specification</span></a></li><li class=usa-nav__primary-item><a class=usa-nav__link href=../../../tutorials/><span>Tutorials</span></a></li><li class=usa-nav__primary-item><a class=usa-nav__link href=../../../use/><span>Using</span></a></li><li class=usa-nav__primary-item><a class=usa-nav__link href=../../../contribute/><span>Contribute</span></a></li></ul></div></nav><div class=site-content-container><aside id=page-side-navigation class="sidenav site-sidenav" aria-label="Section navigation"><nav aria-label="Secondary navigation"><ul class=usa-sidenav><li class="usa-sidenav__item section usa-subnav__top-level"><a href=../../../specification/>Metaschema Specification</a><ul class=usa-sidenav__sublist><li class="usa-sidenav__item page"><a href=../../../specification/overview/>Overview</a></li><li class="usa-sidenav__item page"><a href=../../../specification/information-modeling/>Information Modeling</a></li><li class="usa-sidenav__item section"><a href=../../../specification/syntax/>Syntax</a><ul class=usa-sidenav__sublist><li class="usa-sidenav__item page"><a class=usa-current href=../../../specification/syntax/module/>Module</a></li><li class="usa-sidenav__item page"><a href=../../../specification/syntax/definitions/>Definitions</a></li><li class="usa-sidenav__item page"><a href=../../../specification/syntax/instances/>Instances</a></li><li class="usa-sidenav__item page"><a href=../../../specification/syntax/inline-definitions/>Inline Definitions</a></li><li class="usa-sidenav__item page"><a href=../../../specification/syntax/constraints/>Constraints</a></li></ul></li><li class="usa-sidenav__item page"><a href=../../../specification/mapping/>Format Bindings</a></li><li class="usa-sidenav__item page"><a href=../../../specification/datatypes/>Data Types</a></li><li class="usa-sidenav__item page"><a href=../../../specification/glossary/>Glossary</a></li></ul></li></ul></nav></aside><div class=usa-in-page-nav-container><aside class=site-in-page-nav aria-label="On this page" data-heading-selectors="h2, h3, h4, h5, h6" data-scroll-offset=-120 data-root-margin="48px 0px -90% 0px" data-threshold=1><nav class=usa-in-page-nav__nav aria-label="On this page"><h4 class=usa-in-page-nav__heading tabindex=0>On this page</h4><ul class=usa-in-page-nav__list><li class=usa-in-page-nav__item><a href=#module-documentation class="site-in-page-nav__link h2">Module Documentation</a></li><li class=usa-in-page-nav__item><a href=#abstract-modules class="site-in-page-nav__link h2">Abstract Modules</a></li><li class="usa-in-page-nav__item usa-in-page-nav__item--sub-item"><a href=#schema-name class="site-in-page-nav__link h3"><code>&lt;schema-name></code></a></li><li class="usa-in-page-nav__item usa-in-page-nav__item--sub-item"><a href=#schema-version class="site-in-page-nav__link h3"><code>&lt;schema-version></code></a></li><li class="usa-in-page-nav__item usa-in-page-nav__item--sub-item"><a href=#short-name class="site-in-page-nav__link h3"><code>&lt;short-name></code></a></li><li class="usa-in-page-nav__item usa-in-page-nav__item--sub-item"><a href=#remarks class="site-in-page-nav__link h3"><code>&lt;remarks></code></a></li><li class=usa-in-page-nav__item><a href=#xml-namespace class="site-in-page-nav__link h2">XML <code>&lt;namespace></code></a></li><li class=usa-in-page-nav__item><a href=#json-base-uri class="site-in-page-nav__link h2"><code>&lt;json-base-uri></code></a></li><li class=usa-in-page-nav__item><a href=#import class="site-in-page-nav__link h2"><code>&lt;import></code></a></li><li class=usa-in-page-nav__item><a href=#definition-name-resolution class="site-in-page-nav__link h2">Definition Name Resolution</a></li></ul></nav></aside><main id=main-content class="main-content usa-prose"><header><nav class=usa-breadcrumb aria-label=Breadcrumbs><ol class=usa-breadcrumb__list><li class="usa-breadcrumb__list-item usa-current"><a href=../../../specification/ class=usa-breadcrumb__link aria-current=page><span>Metaschema Specification</span></a></li><li class="usa-breadcrumb__list-item usa-current"><a href=../../../specification/syntax/ class=usa-breadcrumb__link aria-current=page><span>Syntax</span></a></li><li class="usa-breadcrumb__list-item usa-current"><a href=../../../specification/syntax/module/ class=usa-breadcrumb__link aria-current=page><span>Module</span></a></li></ol></nav></header><h1 id=metaschema-module><a href=#metaschema-module>Metaschema Module</a></h1><p>A <em>Metaschema module</em> is represented using the top-level XML element <code>&lt;METASCHEMA></code>.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;METASCHEMA</span> <span class=na>xmlns=</span><span class=s>&#34;http://csrc.nist.gov/ns/oscal/metaschema/1.0&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;schema-name&gt;</span>Computer Model<span class=nt>&lt;/schema-name&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;schema-version&gt;</span>0.0.5<span class=nt>&lt;/schema-version&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;short-name&gt;</span>computer<span class=nt>&lt;/short-name&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;namespace&gt;</span>http://example.com/ns/computer<span class=nt>&lt;/namespace&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;json-base-uri&gt;</span>http://example.com/ns/computer<span class=nt>&lt;/json-base-uri&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;remarks&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;p&gt;</span>This is an example model to describe the components of a computer.<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;p&gt;</span>The &#34;computer&#34; element is the root element of this model.<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/remarks&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- followed by a series of imports, then a series of definitions --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/METASCHEMA&gt;</span>
</span></span></code></pre></div><p>Attributes:</p><table><thead><tr><th style=text-align:left>Attribute</th><th style=text-align:left>Data Type</th><th style=text-align:left>Use</th><th style=text-align:left>Default Value</th><th style=text-align:left>Section</th></tr></thead><tbody><tr><td style=text-align:left><a href=#abstract-modules><code>@abstract</code></a></td><td style=text-align:left><code>yes</code> or <code>no</code></td><td style=text-align:left>optional</td><td style=text-align:left><code>no</code></td><td style=text-align:left>Header: <a href=#abstract-modules>Abstract Module</a></td></tr></tbody></table><p>Elements:</p><table><thead><tr><th style=text-align:left>Element</th><th style=text-align:left>Data Type</th><th style=text-align:left>Use</th><th style=text-align:left>Section</th></tr></thead><tbody><tr><td style=text-align:left><a href=#schema-name><code>&lt;schema-name></code></a></td><td style=text-align:left><a href=../../../specification/datatypes/#markup-line><code>markup-line</code></a></td><td style=text-align:left>1</td><td style=text-align:left>Header: <a href=#module-documentation>Documentation</a></td></tr><tr><td style=text-align:left><a href=#schema-version><code>&lt;schema-version></code></a></td><td style=text-align:left>version (<a href=../../../specification/datatypes/#string><code>string</code></a>)</td><td style=text-align:left>1</td><td style=text-align:left>Header: <a href=#module-documentation>Documentation</a></td></tr><tr><td style=text-align:left><a href=#short-name><code>&lt;short-name></code></a></td><td style=text-align:left><a href=../../../specification/datatypes/#token><code>token</code></a></td><td style=text-align:left>1</td><td style=text-align:left>Header: <a href=#module-documentation>Documentation</a></td></tr><tr><td style=text-align:left><a href=#xml-namespace><code>&lt;namespace></code></a></td><td style=text-align:left><a href=../../../specification/datatypes/#uri><code>uri</code></a></td><td style=text-align:left>1</td><td style=text-align:left>Header: <a href=#xml-namespace>XML Namespace</a></td></tr><tr><td style=text-align:left><a href=#json-base-uri><code>&lt;json-base-uri></code></a></td><td style=text-align:left><a href=../../../specification/datatypes/#uri><code>uri</code></a></td><td style=text-align:left>1</td><td style=text-align:left>Header: <a href=#json-base-uri>JSON Base URI</a></td></tr><tr><td style=text-align:left><a href=#remarks><code>&lt;remarks></code></a></td><td style=text-align:left>special</td><td style=text-align:left>0 or 1</td><td style=text-align:left>Header: <a href=#module-documentation>Documentation</a></td></tr><tr><td style=text-align:left><a href=#import><code>&lt;import></code></a></td><td style=text-align:left>special</td><td style=text-align:left>0 to ∞</td><td style=text-align:left><a href=#import>Module Imports</a></td></tr><tr><td style=text-align:left><a href=../../../specification/syntax/definitions/#top-level-define-assembly><code>&lt;define-assembly></code></a>,<br><a href=../../../specification/syntax/definitions/#top-level-define-field><code>&lt;define-field></code></a>, and<br><a href=../../../specification/syntax/definitions/#top-level-define-flag><code>&lt;define-flag></code></a></td><td style=text-align:left>special</td><td style=text-align:left>0 to ∞</td><td style=text-align:left><a href=../../../specification/syntax/definitions/>Module Definitions</a></td></tr></tbody></table><p>The first set of elements in a <em>Metaschema module</em> represent the <em>header</em>, which contains information about the <em>Metaschema module</em> as a whole. The remainder of this section discusses the use of these elements.</p><div class=callout><strong>Note:</strong> There is no explicit separation between the <em>header</em> and the <em>definitions</em> in a <em>Metaschema module</em>. The header ends where the <a href=#import><code>&lt;import></code></a>, <a href=../../../specification/syntax/definitions/#top-level-define-assembly><code>&lt;define-assembly></code></a>, <a href=../../../specification/syntax/definitions/#top-level-define-field><code>&lt;define-field></code></a>, and <a href=../../../specification/syntax/definitions/#top-level-define-flag><code>&lt;define-flag></code></a> elements first appear.</div><h2 id=module-documentation><a href=#module-documentation>Module Documentation</a></h2><p>Top-level documentation for the <em>Metaschema module</em> appears in the the <em>header</em> section.</p><div class=callout>The documentation within the <em>header</em> applies to the whole <em>Metaschema module</em>. Each child object <em>definition</em> will also have associated documentation that appears within that object&rsquo;s declaration.</div><p>The <em>header</em> may include the following elements, in order:</p><h2 id=abstract-modules><a href=#abstract-modules>Abstract Modules</a></h2><p>The optional <code>@abstract</code> attribute indicates if the <em>Metaschema module</em> is intended to be used on its own or only for import into another <em>Metaschema module</em>.</p><p>The following values describe the intent of <code>@abstract</code> attribute.</p><ul><li><code>no</code> - Indicates that the <em>Metaschema module</em> is usable on its own. This is the default behavior when <code>@abstract</code> is not declared.</li><li><code>yes</code> - Indicates that the <em>Metaschema module</em> is not usable on its own. Instead, the <em>Metaschema module</em> SHOULD only be <em>imported</em> by other Metaschema modules.</li></ul><div class=callout>It&rsquo;s a best practice to mark <em>Metaschema modules</em> that are intended only for reuse in other <em>Metaschema modules</em> as <code>@abstract=yes</code>. This communicates to users of the module that the module is not standalone.</div><p>For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=hl><span class=lnt>3
</span></span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;METASCHEMA</span> <span class=na>xmlns=</span><span class=s>&#34;http://csrc.nist.gov/ns/oscal/metaschema/1.0&#34;</span>
</span></span><span class="line hl"><span class=cl>  <span class=na>abstract=</span><span class=s>&#34;yes&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- ... other content ... --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/METASCHEMA&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=schema-name><a href=#schema-name><code>&lt;schema-name></code></a></h3><p>The required <code>&lt;schema-name></code> is a line of <a href=../../../specification/datatypes/#markup-line>structured markup</a> that provides a human-readable name, suitable for display, for the <em>information model</em> represented by this <em>Metaschema module</em>.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;schema-name&gt;</span>Computer Model<span class=nt>&lt;/schema-name&gt;</span>
</span></span></code></pre></div><h3 id=schema-version><a href=#schema-version><code>&lt;schema-version></code></a></h3><p>A required, unique string literal value indicating the distinct version assigned to the <em>Metaschema module</em>.</p><p>This version MUST provide a means to distinctly identify a given revision of the <em>Metaschema module</em> in a series of revisions. The value child of the <code>&lt;schema-version></code> SHOULD be a <a href=https://semver.org/>semantic version</a>, which allows for automatically determining if a given version precedes, matches, or succeeds another version.</p><div class=callout>Use of <a href=https://semver.org/>semantic versioning</a>, also referred to as &ldquo;semver&rdquo;, in a <code>&lt;schema-version></code> is encouraged, since semver provides a standardized set of rules for how version numbers are assigned and incremented. This allows computation over version ranges and comparison of individual versions.</div><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;schema-version&gt;</span>0.0.5<span class=nt>&lt;/schema-version&gt;</span>
</span></span></code></pre></div><p>This example defines a semantic version with a major version of <code>0</code>, a minor version of <code>0</code>, and a patch version of <code>5</code>.</p><h3 id=short-name><a href=#short-name><code>&lt;short-name></code></a></h3><p>A required, unique string literal value that identifies a series of revisions of the <em>Metaschema module</em>. Each revision in the series will have the same <code>&lt;short-name></code>.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;short-name&gt;</span>computer<span class=nt>&lt;/short-name&gt;</span>
</span></span></code></pre></div><p>Together, the <code>&lt;short-name></code> and <code>&lt;schema-version></code> provide an identification pair that uniquely identifies a given <em>Metaschema module</em> revision. This pair of values is intended to be associated with any schemas, code, tools, or other derivative artifacts produced from the <em>Metaschema module</em>, providing for clear identification of the revision from which an artifact is derived.</p><h3 id=remarks><a href=#remarks><code>&lt;remarks></code></a></h3><p>An optional sequence of <a href=../../../specification/datatypes/#markup-multiline>multiline markup</a> used to provide additional supporting notes related to the <em>Metaschema module</em>.</p><p>A <code>&lt;remarks></code> element is typically used to include explanatory commentary of any kind.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;remarks&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;p&gt;</span>This is an example model to describe the components of a computer.<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;p&gt;</span>The &#34;computer&#34; element is the root element of this model.<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/remarks&gt;</span>
</span></span></code></pre></div><div class=callout>As a general purpose element, the <code>&lt;remarks></code> element is also permitted to appear elsewhere in the <em>Metaschema module</em> model. Its scope of application is tied to the location of use in the document. Thus, the top-level remarks relate to the entire <em>Metaschema module</em>, while remarks on a <em>definition</em> relate to the <em>definition</em>.</div><h2 id=xml-namespace><a href=#xml-namespace>XML <code>&lt;namespace></code></a></h2><p>The required <code>&lt;namespace></code> element is a <a href=https://www.rfc-editor.org/rfc/rfc3986>uniform resource identifier</a> (URI) that identifies the <a href=https://www.w3.org/TR/xml-names/#sec-namespaces>XML Namespace</a> to use for XML instances of the model.</p><p>All <em>information elements</em> defined in the <em>Metaschema module</em> will be assigned to this namespace when handling related XML data.</p><div class=callout>Note: <em>Information elements</em> defined in an <a href=#import>imported <em>Metaschema module</em></a>, will be assigned the namespace declared in that module&rsquo;s header. This makes it possible to use and differentiate <em>information elements</em> defined with different namespaces.</div><p>The XML namespace defined using this element will be the target namespace used in an XML schema generated from this <em>Metaschema module</em>.</p><h2 id=json-base-uri><a href=#json-base-uri><code>&lt;json-base-uri></code></a></h2><p>The required <code>&lt;json-base-uri></code> element is a <a href=https://www.rfc-editor.org/rfc/rfc3986>uniform resource identifier</a> (URI) that identifies the URI used in the <a href=https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-01#section-7><code>$schema</code> keyword</a> in JSON Schemas generated from this <em>Metaschema module</em>.</p><h2 id=import><a href=#import><code>&lt;import></code></a></h2><p>The <code>&lt;import></code> element is used to import the definitions defined in another Metaschema module for use in the importing Metaschema module.</p><p>An import cycle occurs when a <em>Metaschema module</em> imports itself directly or transitively.</p><p>An example scenario is illustrated below.</p><div class=mermaid>graph TB
moduleA -- imports --> moduleB
moduleB -- imports --> moduleA</div><p>In this example a cycle is created <code>A -> B -> A</code>.</p><p>When processing imports, an implementation MUST be capable of detecting and generating a fatal error when an import cycle is found.</p><h2 id=definition-name-resolution><a href=#definition-name-resolution>Definition Name Resolution</a></h2><p>The <a href=../../../specification/syntax/definitions/#name>top-level <em>definition</em> names</a> exported by a <em>Metaschema module</em> are controlled by the top-level <em>definition&rsquo;s</em> <a href=../../../specification/syntax/definitions/#scope><code>@scope</code></a> attribute. Definitions with a given <em>Metaschema module</em> without an explicit <code>@scope</code> or with <code>@scope="global"</code> are exported for use by other <em>Metaschema modules</em> that import it directly or transitively. The possibility of name conflicts arises when two modules have different definitions of the same type (i.e. flag, field, assembly) with the same name, and these modules are both imported.</p><p>The following rules MUST be applied to resolve naming conflicts that arise from <a href=#import>module imports</a>.</p><ol><li>A <em>definition</em> MUST be considered for import if the <em>definition</em> is in an <a href=#import>imported module</a>, and it either has no <a href=../../../specification/syntax/definitions/#scope><code>@scope</code></a> or <code>@scope="global"</code>. A <em>definition</em> with <code>@scope="local"</code> MUST be ignored.</li><li>When a <em>definition</em> of a given type is imported, if its name matches the name of a previously imported <em>definition</em> of the same type, the most recently imported <em>definition</em> MUST be used.</li><li>If a <em>definition</em> of a given type exists in the importing <em>Metaschema module</em> that matches the name of a previously imported <em>definition</em> of the same type, the definition in the importing <em>Metaschema module</em> MUST be used.</li><li>Each module uses the resulting set of named <em>definitions</em> to resolve references within the module.</li></ol><p>The following example illustrates how scoping affects definition name resolution.</p><p>The following file is the <code>shadow-imported_metaschema.xml</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=hl><span class=lnt> 8
</span></span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=hl><span class=lnt>12
</span></span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=hl><span class=lnt>20
</span></span><span class=hl><span class=lnt>21
</span></span><span class=hl><span class=lnt>22
</span></span><span class=hl><span class=lnt>23
</span></span><span class=hl><span class=lnt>24
</span></span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;METASCHEMA</span> <span class=na>xmlns=</span><span class=s>&#34;http://csrc.nist.gov/ns/oscal/metaschema/1.0&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;schema-name&gt;</span>Imported Metaschema<span class=nt>&lt;/schema-name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;schema-version&gt;</span>1.0<span class=nt>&lt;/schema-version&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;short-name&gt;</span>imported<span class=nt>&lt;/short-name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;namespace&gt;</span>http://csrc.nist.gov/ns/metaschema/example/1.0<span class=nt>&lt;/namespace&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl>    <span class=nt>&lt;define-assembly</span> <span class=na>name=</span><span class=s>&#34;imported-flags&#34;</span> <span class=na>scope=</span><span class=s>&#34;global&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;formal-name&gt;</span>Assembly that includes global and local flags<span class=nt>&lt;/formal-name&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;description&gt;</span>This assembly references a global flag that is shadowed by a global flag defined
</span></span><span class=line><span class=cl>          in the importing metaschema module.<span class=nt>&lt;/description&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=nt>&lt;flag</span> <span class=na>ref=</span><span class=s>&#34;global-flag&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;remarks&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;p&gt;</span>This reference should be to the globally scoped flag &#34;global-flag&#34; from the imported
</span></span><span class=line><span class=cl>                  metaschema module.<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/remarks&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/flag&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/define-assembly&gt;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class="line hl"><span class=cl>    <span class=nt>&lt;define-flag</span> <span class=na>name=</span><span class=s>&#34;global-flag&#34;</span> <span class=na>scope=</span><span class=s>&#34;global&#34;</span><span class=nt>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=nt>&lt;formal-name&gt;</span>Global Flag - Imported Metaschema<span class=nt>&lt;/formal-name&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=nt>&lt;description&gt;</span>A flag from the imported metaschema. Its scope is global and it&#39;s shadowed by the
</span></span><span class="line hl"><span class=cl>          definition with the same name in the importing metaschema module.<span class=nt>&lt;/description&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>&lt;/define-flag&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/METASCHEMA&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>This file declares the globally scoped <em>assembly definition</em> named <code>imported-flags</code> (on line 8), which references the global scoped <em>flag definition</em> <code>global-flag</code> (on line 12). It also declares the globally scoped <em>flag definition</em> named <code>global-flag</code> (on line 20).</p><p>The following file is the <code>shadow-importing_metaschema.xml</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=hl><span class=lnt> 8
</span></span><span class=lnt> 9
</span><span class=hl><span class=lnt>10
</span></span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=hl><span class=lnt>15
</span></span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=hl><span class=lnt>32
</span></span><span class=hl><span class=lnt>33
</span></span><span class=hl><span class=lnt>34
</span></span><span class=hl><span class=lnt>35
</span></span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;METASCHEMA</span> <span class=na>xmlns=</span><span class=s>&#34;http://csrc.nist.gov/ns/oscal/metaschema/1.0&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;schema-name&gt;</span>Importing Metaschema<span class=nt>&lt;/schema-name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;schema-version&gt;</span>1.0<span class=nt>&lt;/schema-version&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;short-name&gt;</span>importing<span class=nt>&lt;/short-name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;namespace&gt;</span>http://csrc.nist.gov/ns/metaschema/example/1.0<span class=nt>&lt;/namespace&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl>    <span class=nt>&lt;import</span> <span class=na>href=</span><span class=s>&#34;shadow-imported_metaschema.xml&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl>    <span class=nt>&lt;define-assembly</span> <span class=na>name=</span><span class=s>&#34;importing-A&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;formal-name&gt;</span>Assembly that global flags<span class=nt>&lt;/formal-name&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;description&gt;</span>This assembly references a global flag that shadows a global flag defined in an
</span></span><span class=line><span class=cl>          imported metaschema module.<span class=nt>&lt;/description&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;root-name&gt;</span>including-flags<span class=nt>&lt;/root-name&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=nt>&lt;flag</span> <span class=na>ref=</span><span class=s>&#34;global-flag&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;remarks&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;p&gt;</span>This reference is to the globally scoped flag &#34;global-flag&#34; from the importing
</span></span><span class=line><span class=cl>                  metaschema. This definition is taking precedence over the other definition imported
</span></span><span class=line><span class=cl>                  (with the same name).<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/remarks&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/flag&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;model&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;assembly</span> <span class=na>ref=</span><span class=s>&#34;imported-flags&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;remarks&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;p&gt;</span>This is the imported &#34;imported-flags&#34; assembly, complete with its full model
</span></span><span class=line><span class=cl>                      from the imported metaschema module, including the global-flag defined there.<span class=nt>&lt;/p&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/remarks&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/assembly&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/model&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/define-assembly&gt;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class="line hl"><span class=cl>    <span class=nt>&lt;define-flag</span> <span class=na>name=</span><span class=s>&#34;global-flag&#34;</span><span class=nt>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=nt>&lt;formal-name&gt;</span>Global Flag - Importing Metaschema<span class=nt>&lt;/formal-name&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=nt>&lt;description&gt;</span>A flag from the importing metaschema. Its scope is global. This should be marked
</span></span><span class="line hl"><span class=cl>          as a shadowing of another imported flag.<span class=nt>&lt;/description&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/define-flag&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/METASCHEMA&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>This file imports the <code>shadow-imported_metaschema.xml</code> (on line 8). It also declares a global scoped <em>assembly definition</em> named <code>importing-A</code> (on line 10), which references the <em>flag definition</em> <code>global-flag</code> (on line 15). It also declares the globally scoped <em>flag definition</em> named <code>global-flag</code> (on line 32).</p><p>Both files contain globally scoped <em>flag definitions</em> named <code>global-flag</code>.</p><p>According to the rules above, the following is true.</p><ul><li>The assembly named <code>imported-flags</code> uses the flag named <code>global-flag</code> from the <code>shadow-imported_metaschema.xml</code>. This is because definition names are resolved in the local context of each model.</li><li>The assembly named <code>importing-A</code> uses the flag named <code>global-flag</code> from the <code>shadow-importing_metaschema.xml</code>. This is because definitions declared in the current module shadow imported definitions.</li></ul></main></div></div><p class="font-sans-sm text-center" style="margin:1.5rem auto">This page was last updated on January 4, 2024. <button id=main-improve-page onclick='window.location.href="https://github.com/usnistgov/metaschema/tree/master/website/content/specification/syntax/module.md"' class=usa-button>Improve this Page</button></p><script type=module>import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/+esm'</script><script type=text/javascript src=../../../module/hugo-uswds/js/uswds.min.js></script><div id=nistfootergoeshere></div><script defer type=text/javascript src=https://pages.nist.gov/leaveNotice/js/jquery.leaveNotice-nist.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){$(document).ready(function(){$.ajax({url:"https://pages.nist.gov/nist-header-footer/boilerplate-header.html",cache:!1,dataType:"html",success:function(e){$("#nistheadergoeshere").append(e)}}),$.ajax({url:"https://pages.nist.gov/nist-header-footer/boilerplate-footer.html",cache:!1,dataType:"html",success:function(e){$("#nistfootergoeshere").append(e)}}),$('a[href*="//"]:not([href*="pages.nist.gov"]):not([href*="www.nist.gov"]):not([href^="#"]):not([href^="/"])').addClass("usa-link usa-link--external"),$("a.usa-link--external").leaveNotice()})})</script><script>document.addEventListener("DOMContentLoaded",function(){$(document).ready(function(){mermaid.initialize()})})</script></body></html>